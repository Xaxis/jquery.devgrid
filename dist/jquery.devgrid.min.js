/*!
 * jquery.devgrid
 * 
 * @author Wil Neeley <william.neeley@gmail.com> (https://github.com/Xaxis)
 * @version 1.0.0
 * @license MIT
 */
!function(a,b,c,d){function e(b,c){this.elm=a(b),this.options=a.extend({},h,c),this._defaults=h,this.init(b,c)}var f="devgrid",g=null,h={columns:18,columnWidth:"60px",gutterWidth:"20px",visible:!1,track:!0,vertical:!0,toggleGutter:!1,breakpoints:[],distributeGutter:!1,gridStyle:{display:"none",position:"fixed",left:0,right:0,"margin-left":"auto","margin-right":"auto",top:0,width:"100%",height:"100%","z-index":"99999","box-sizing":"border-box"},columnStyle:{width:"20px",height:"100%","float":"left",background:"rgba(0, 191, 255, 0.15)",position:"relative","box-sizing":"border-box"},gutterStyle:{"float":"left",height:"100%","box-sizing":"border-box",background:"rgba(255, 255, 0, 0.4)"},numBoxStyle:{position:"absolute",bottom:0,width:"100%","text-align":"center",background:"rgba(255, 255, 255, 0.5)","box-sizing":"border-box",padding:"2px 0","font-size":"12px","font-family":"sans-serif"},infoBoxStyle:{width:"280px",position:"absolute",top:"20px",left:"20px",padding:"10px","box-sizing":"border-box",border:"1px solid black",background:"white","font-size":"12px","font-family":"sans-serif","line-height":"16px"}};e.prototype.init=function(d,e){var f=this,g=a('<div class="devgrid devgrid-vert">'),h=a('<div class="devgrid devgrid-overlay">'),i=parseFloat(this.options.gutterWidth.match(/\d+([\/.]\d+)?/g)[0]),j=this.options.gutterWidth.replace(/\d+([\/.]\d+)?/g,"");this.options.distributeGutter&&(i/=2),a(".devgrid").remove(),g.css(a.extend(this._defaults.gridStyle,this.options.gridStyle)),h.css(a.extend(this._defaults.gridStyle,this.options.gridStyle)),this.createMediaQueries();for(var k=1;k<=this.options.columns;k++){var l=a('<div class="devgrid-number-box">'+k+"</div>");l.css(a.extend(this._defaults.numBoxStyle,this.options.numBoxStyle));var m=a('<div class="devgrid-col devgrid-col'+k+'"></div>'),n=a('<div class="devgrid-gutter devgrid-l-gutter devgrid-gutter'+k+'">'),o=this.options.distributeGutter?a('<div class="devgrid-gutter devgrid-r-gutter">'):null;m.append(l),m.css(a.extend(this._defaults.columnStyle,this.options.columnStyle)).css({width:this.options.columnWidth}),n.add(o).css(a.extend(this._defaults.gutterStyle,this.options.gutterStyle)).css({width:i+j}),this.options.distributeGutter?(g.append(n),g.append(m),g.append(o)):this.options.toggleGutter?(g.append(n),g.append(m)):(g.append(m),g.append(n))}if(f.elm.append(g),f.elm.append(h),this.options.breakpoints.length)for(var p=0,q=this.options.breakpoints,k=0;k<q.length;k++){var r=q[k],s=a('<div class="devgrid-bp-visu">');s.css({position:"absolute",height:"100%","border-right":"1px solid black",width:0==p?"calc("+r.bp+")":"calc("+r.bp+" - "+p+")",left:0==p?"calc("+r.bp+" - "+r.bp+")":"calc("+p+")"}).css(r.css),g.append(s);var t=a('<div class="devgrid-bp-tag">'+r.tag+"</div>");t.css(a.extend(this._defaults.numBoxStyle,this.options.numBoxStyle)).css({width:"auto","max-height":"24px",padding:"6px 4px",position:"absolute",right:0,top:0}),s.append(t),p=r.bp}var u=a('<div class="devgrid-info-box">'),v=this.options.breakpoints.length?'<div><input class="devgrid-control devgrid-control-toggle-bp-visu" type="checkbox" checked><strong> Toggle Breakpoints</strong></div>':"",w=e.distributeGutter?"":'<div><input class="devgrid-control devgrid-control-toggle-gutter" type="checkbox" '+(this.options.toggleGutter?"checked":"")+" ><strong> Toggle Gutter</strong></div>";if(u.append('<div class="devgrid-info-row devgrid-column-total"><strong>Breakpoints X:</strong> <span></span></div><div class="devgrid-info-row devgrid-window-width"><strong>Window W:</strong> <span></span></div><div class="devgrid-info-row devgrid-viewport-width"><strong>Viewport W:</strong> <span></span></div><div class="devgrid-info-row devgrid-gutter-width"><strong>Gutter Size:</strong> <span></span></div><div class="devgrid-info-row devgrid-column-width"><strong>Unit Size:</strong> <span></span></div><div class="devgrid-info-row devgrid-grid-column-width"><strong>Unit Total Size:</strong> <span></span></div><div class="devgrid-info-row devgrid-active-breakpoint"><strong>Active Breakpoint:</strong> <span></span></div><div class="devgrid-controls"><div><div><input class="devgrid-control devgrid-control devgrid-control-x-grid" type="checkbox" '+(this.options.vertical?"checked":"")+" ><strong> X Grid</strong></div>"+w+'<div><input class="devgrid-control devgrid-control-distribute-gutter" type="checkbox" '+(this.options.distributeGutter?"checked":"")+" ><strong> Distribute Gutter</strong></div>"+v+"</div></div>"),u.css(a.extend(this._defaults.infoBoxStyle,this.options.infoBoxStyle)),h.append(u),this.options.track){var x=g.clone();x.attr("id","devgrid-ghostgrid-vert").css({left:-99999,display:"block","z-index":99999}),f.elm.append(x),this.trackBreakPoint.call(this.trackBreakPoint),a(b).on("resize",this.trackBreakPoint)}this.options.gutterWidth.match(/\%/)&&a(b).on("resize",function(){f.createMediaQueries.call(f)});var y=function(){var d=f.options.columns,e=d,g=a(b).outerWidth()+"px",h=function(){var a=b,d="inner";return"innerWidth"in b||(d="client",a=c.documentElement||c.body),{width:a[d+"Width"],height:a[d+"Height"]}}().width,i=h+"px",j=parseFloat(f.options.gutterWidth.match(/\d+([\/.]\d+)?/g)[0]),k=f.options.gutterWidth,l=parseFloat(f.options.columnWidth.match(/\d+([\/.]\d+)?/g)[0]),m=f.options.columnWidth.replace(/\d+([\/.]\d+)?/g,""),n=f.options.columnWidth,o=j+l+m,p=f.trackBreakPoint.call(f.trackBreakPoint),q=p,r=u.find(".devgrid-column-total span"),s=u.find(".devgrid-row-total span"),t=u.find(".devgrid-window-width span"),v=u.find(".devgrid-viewport-width span"),w=u.find(".devgrid-column-width span"),x=u.find(".devgrid-gutter-width span"),y=u.find(".devgrid-grid-column-width span"),z=u.find(".devgrid-active-breakpoint span");r.html(d),s.html(e),t.html(g),v.html(i),w.html(n),x.html(k),y.html(o),z.html(q)};y(),a(b).on("resize",y),this.options.visible&&(g.css("display","block"),h.css("display","block"));var z=function(b){var c=a(b.currentTarget),f=0;c.hasClass("devgrid-control-x-grid")?(f=a(".devgrid-control-x-grid:checked").length,f?(e.vertical=!0,g.find(".devgrid-col, .devgrid-gutter").show()):(e.vertical=!1,g.find(".devgrid-col, .devgrid-gutter").hide())):c.hasClass("devgrid-control-toggle-gutter")?(f=a(".devgrid-control-toggle-gutter:checked").length,f?a(d).devgrid(a.extend({},e,{toggleGutter:!0})):a(d).devgrid(a.extend({},e,{toggleGutter:!1}))):c.hasClass("devgrid-control-toggle-bp-visu")?(f=a(".devgrid-control-toggle-bp-visu:checked").length,f?a(".devgrid-bp-visu").show():a(".devgrid-bp-visu").hide()):c.hasClass("devgrid-control-distribute-gutter")&&(f=a(".devgrid-control-distribute-gutter:checked").length,f?(a(d).devgrid(a.extend({},e,{distributeGutter:!0})),a(".devgrid-control-toggle-gutter").parent().hide()):(a(d).devgrid(a.extend({},e,{distributeGutter:!1})),a(".devgrid-control-toggle-gutter").parent().show()))};a(".devgrid-control").on("click",z)},e.prototype.createMediaQueries=function(){var c=a('<style class="devgrid-styles">'),d=a(b).outerWidth(),e=parseFloat(this.options.gutterWidth.match(/\d+([\/.]\d+)?/g)[0]),f=parseFloat(this.options.columnWidth.match(/\d+([\/.]\d+)?/g)[0]),g=0,h=0,i=0;a(".devgrid-styles").remove();for(var j=1;j<=this.options.columns;j++){if(this.options.gutterWidth.match(/\%/)){var k=e/100*d;g=f+k,h=parseFloat(g*j),i=h+f}else g=f+e,h=parseFloat(g*j),i=h+f;c[0].textContent+="@media only screen and (max-width: "+i+"px) {\n .devgrid .devgrid-col"+j+" {\n   background: rgba(0, 255, 0, 0.3) !important;\n   opacity: .5;\n   transition: opacity 0.6s ease;\n }\n .devgrid .devgrid-col"+j+" + .devgrid-gutter {\n   background: rgba(0, 255, 255, 0.2) !important;\n }\n}\n",c[0].textContent+="@media only screen and (max-width: "+h+"px) {\n .devgrid .devgrid-col"+j+", .devgrid .devgrid-gutter"+j+" {\n   z-index: -999;\n   opacity: 0;\n   transition: opacity 1s ease;\n }\n}\n"}a("head").append(c)},e.prototype.trackBreakPoint=function(){var b=a("#devgrid-ghostgrid-vert").find(".devgrid-col").filter(function(b,c){return"-999"!=a(c).css("z-index")}),c=b.length;return this.vert_breakpoint!=c&&(this.vert_breakpoint=c,a("body").attr("data-devgrid-x-breakpoint",this.vert_breakpoint)),this.vert_breakpoint};var i={hide:function(){a(".devgrid").hide()},show:function(){a(".devgrid").show()},toggle:function(){"block"==a(".devgrid").css("display")?i.hide():i.show()}};a.fn[f]=function(b){if(g=this,"string"==typeof b){var c=b,d=a(arguments).toArray();return d.shift(),d.unshift(this),i[c].apply(this,d)}return this.each(function(){a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);