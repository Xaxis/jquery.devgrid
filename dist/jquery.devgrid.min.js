/*!
 * jquery.devgrid
 * 
 * @author Wil Neeley <william.neeley@gmail.com> (https://github.com/Xaxis)
 * @version 1.0.0
 * @license MIT
 */
!function(a,b,c,d){function e(b,c){this.elm=a(b),this.options=a.extend({},h,c),this._defaults=h,this.init(b,c)}var f="devgrid",g=null,h={columns:18,columnWidth:"60px",gutterWidth:"20px",visible:!1,track:!0,vertical:!0,horizontal:!1,toggleGutter:!1,gridStyle:{display:"none",position:"fixed",left:0,right:0,"margin-left":"auto","margin-right":"auto",top:0,width:"100%",height:"100%","z-index":"99999","box-sizing":"border-box"},columnStyle:{width:"20px",height:"100%","float":"left",background:"rgba(0, 191, 255, 0.15)",position:"relative","box-sizing":"border-box"},gutterStyle:{position:"absolute",height:"100%","box-sizing":"border-box",background:"rgba(255, 255, 0, 0.4)"},numBoxStyle:{position:"absolute",bottom:0,width:"100%","text-align":"center",background:"rgba(255, 255, 255, 0.5)","box-sizing":"border-box",padding:"2px 0","font-size":"12px","font-family":"sans-serif"},infoBoxStyle:{width:"280px",position:"absolute",top:"20px",left:"20px",padding:"10px","box-sizing":"border-box",border:"1px solid black",background:"white","font-size":"12px","font-family":"sans-serif","line-height":"16px"}};e.prototype.init=function(c,d){var e=this,g=a('<div class="devgrid devgrid-vert">'),h=a('<div class="devgrid devgrid-horz">'),i=a('<div class="devgrid devgrid-overlay">'),j=a('<style class="devgrid-styles">');a(".devgrid").remove(),a(".devgrid-styles").remove(),g.css(a.extend(this._defaults.gridStyle,this.options.gridStyle)),h.css(a.extend(this._defaults.gridStyle,this.options.gridStyle)),i.css(a.extend(this._defaults.gridStyle,this.options.gridStyle));for(var k=1;k<=this.options.columns;k++){var l=parseFloat(this.options.gutterWidth.match(/\d+([\/.]\d+)?/g)[0]),m=this.options.gutterWidth.replace(/\d+([\/.]\d+)?/g,""),n=parseFloat(this.options.columnWidth.match(/\d+([\/.]\d+)?/g)[0]),o=n+l,p=this.options.columnWidth.replace(/\d+([\/.]\d+)?/g,""),q=parseFloat(o*k),r=q+n;if(m!=p)throw new Error("jQuery."+f+" ::  columnWidth and gutterWidth unit type must be the same! Currently "+m+" vs "+p);j[0].textContent+="@media only screen and (max-width: "+r+p+") {\n .devgrid .devgrid-col"+k+" {\n   background: rgba(0, 255, 0, 0.3) !important;\n   opacity: .5;\n   transition: opacity 0.6s ease;\n }\n .devgrid .devgrid-col"+k+" .devgrid-gutter {\n   background: rgba(0, 255, 255, 0.2) !important;\n }\n}\n",j[0].textContent+="@media only screen and (max-width: "+q+p+") {\n .devgrid .devgrid-col"+k+" {\n   display: none;\n }\n}\n";var s=a('<div class="devgrid-number-box">'+k+"</div>");s.css(a.extend(this._defaults.numBoxStyle,this.options.numBoxStyle));var t=a('<div class="devgrid-col devgrid-col'+k+'"></div>'),u=a('<div class="devgrid-gutter devgrid-l-gutter">');t.append(s),t.append(u),t.css(a.extend(this._defaults.columnStyle,this.options.columnStyle)).css({width:this.options.columnWidth}),u.css(a.extend(this._defaults.gutterStyle,this.options.gutterStyle)).css({width:l+m}),this.options.toggleGutter?(t.css({"margin-left":this.options.gutterWidth}),u.css({left:-l+m})):(t.css({"margin-right":this.options.gutterWidth}),u.css({right:-l+m})),g.append(t),j[0].textContent+="@media only screen and (max-height: "+r+p+") {\n .devgrid .devgrid-row"+k+" {\n   background: rgba(0, 255, 0, 0.3) !important;\n   opacity: .5;\n   transition: opacity 0.6s ease;\n }\n .devgrid .devgrid-row"+k+" .devgrid-gutter {\n   background: rgba(0, 255, 255, 0.2) !important;\n }\n}\n",j[0].textContent+="@media only screen and (max-height: "+q+p+") {\n .devgrid .devgrid-row"+k+" {\n   display: none;\n }\n}\n";var v=a('<div class="devgrid-number-box">'+k+"</div>");v.css(a.extend(this._defaults.numBoxStyle,this.options.numBoxStyle)).css({width:"auto","min-width":"20px",height:"100%",padding:"0 4px","line-height":this.options.columnWidth});var w=a('<div class="devgrid-row devgrid-row'+k+'"></div>'),x=a('<div class="devgrid-gutter devgrid-t-gutter">');h.append(w),w.append(x),w.css(a.extend(this._defaults.columnStyle,this.options.columnStyle)).css({width:"100%","margin-left":0,"float":"none",height:this.options.columnWidth}),x.css(a.extend(this._defaults.gutterStyle,this.options.gutterStyle)).css({width:"100%",height:l+m}),this.options.toggleGutter?(w.css({"margin-top":this.options.gutterWidth}),x.css({top:-l})):(w.css({"margin-bottom":this.options.gutterWidth}),x.css({bottom:-l+m}));w.append(v)}a("head").append(j),e.elm.append(g),e.elm.append(h),e.elm.append(i);var y=a('<div class="devgrid-info-box">');if(y.append('<div class="devgrid-info-row devgrid-column-total"><strong>Breakpoints X:</strong> <span></span></div><div class="devgrid-info-row devgrid-row-total"><strong>Breakpoints Y:</strong> <span></span></div><div class="devgrid-info-row devgrid-window-width"><strong>Window X:</strong> <span></span></div><div class="devgrid-info-row devgrid-window-height"><strong>Window Y:</strong> <span></span></div><div class="devgrid-info-row devgrid-gutter-width"><strong>Gutter Size:</strong> <span></span></div><div class="devgrid-info-row devgrid-column-width"><strong>Unit Size:</strong> <span></span></div><div class="devgrid-info-row devgrid-grid-column-width"><strong>Unit Total Size:</strong> <span></span></div><div class="devgrid-info-row devgrid-grid-width"><strong>Grid Size:</strong> <span></span></div><div class="devgrid-info-row devgrid-active-breakpoint"><strong>Active Breakpoint:</strong> <span></span></div><div class="devgrid-controls"><div><div><input class="devgrid-control devgrid-control devgrid-control-x-grid" type="checkbox" '+(this.options.vertical?"checked":"")+' ><strong> X Grid</strong></div><div><input class="devgrid-control devgrid-control-y-grid" type="checkbox" '+(this.options.horizontal?"checked":"")+' ><strong> Y Grid</strong></div><div><input class="devgrid-control devgrid-control-toggle-gutter" type="checkbox" '+(this.options.toggleGutter?"checked":"")+" ><strong> Toggle Gutter</strong></div></div></div>"),y.css(a.extend(this._defaults.infoBoxStyle,this.options.infoBoxStyle)),i.append(y),this.options.track){var z=g.clone();z.attr("id","devgrid-ghostgrid-vert").css({left:-99999,display:"block","z-index":-99999}),e.elm.append(z);var A=h.clone();A.attr("id","devgrid-ghostgrid-horz").css({left:-99999,display:"block","z-index":-99999}),e.elm.append(A),this.trackBreakPoint.call(this.trackBreakPoint),a(b).on("resize",this.trackBreakPoint)}var B=function(){var c=e.options.columns,d=c,f=a(b).outerWidth()+"px",g=a(b).outerHeight()+"px",h=parseFloat(e.options.gutterWidth.match(/\d+([\/.]\d+)?/g)[0]),i=e.options.gutterWidth,j=parseFloat(e.options.columnWidth.match(/\d+([\/.]\d+)?/g)[0]),k=e.options.columnWidth.replace(/\d+([\/.]\d+)?/g,""),l=e.options.columnWidth,m=(h+j)*c+"px",n=m+" x "+m,o=h+j+k,p=e.trackBreakPoint.call(e.trackBreakPoint),q="X: "+p[0]+"  Y: "+p[1],r=y.find(".devgrid-column-total span"),s=y.find(".devgrid-row-total span"),t=y.find(".devgrid-window-width span"),u=y.find(".devgrid-window-height span"),v=y.find(".devgrid-column-width span"),w=y.find(".devgrid-gutter-width span"),x=y.find(".devgrid-grid-width span"),z=y.find(".devgrid-grid-column-width span"),A=y.find(".devgrid-active-breakpoint span");r.html(c),s.html(d),t.html(f),u.html(g),v.html(l),w.html(i),x.html(n),z.html(o),A.html(q)};B(),a(b).on("resize",B),this.options.visible&&(this.options.vertical&&g.css("display","block"),this.options.horizontal&&h.css("display","block"),i.css("display","block"));var C=function(b){var e=a(b.currentTarget),f=0;e.hasClass("devgrid-control-x-grid")?(f=a(".devgrid-control-x-grid:checked").length,f?(d.vertical=!0,g.show()):(d.vertical=!1,g.hide())):e.hasClass("devgrid-control-y-grid")?(f=a(".devgrid-control-y-grid:checked").length,f?(d.horizontal=!0,h.show()):(d.horizontal=!1,h.hide())):e.hasClass("devgrid-control-toggle-gutter")&&(f=a(".devgrid-control-toggle-gutter:checked").length,f?a(c).devgrid(a.extend({},d,{toggleGutter:!0})):a(c).devgrid(a.extend({},d,{toggleGutter:!1})))};a(".devgrid-control").on("click",C)},e.prototype.trackBreakPoint=function(){var b=a("#devgrid-ghostgrid-vert").find(".devgrid-col").filter(function(b,c){return"none"!=a(c).css("display")}),c=a("#devgrid-ghostgrid-horz").find(".devgrid-row").filter(function(b,c){return"none"!=a(c).css("display")}),d=b.length;this.vert_breakpoint!=d&&(this.vert_breakpoint=d,a("body").attr("data-devgrid-x-breakpoint",this.vert_breakpoint));var e=c.length;return this.horz_breakpoint!=e&&(this.horz_breakpoint=e,a("body").attr("data-devgrid-y-breakpoint",this.horz_breakpoint)),[this.vert_breakpoint,this.horz_breakpoint]};var i={hide:function(){a(".devgrid").hide()},show:function(){a(".devgrid").show()},toggle:function(){"block"==a(".devgrid").css("display")?i.hide():i.show()}};a.fn[f]=function(b){if(g=this,"string"==typeof b){var c=b,d=a(arguments).toArray();return d.shift(),d.unshift(this),i[c].apply(this,d)}return this.each(function(){a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);